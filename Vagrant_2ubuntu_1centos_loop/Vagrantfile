Vagrant.configure("2") do |config|
    
    # global settings
    config.vm.box_check_update = false
    config.ssh.insert_key = false

    # create 2 ubuntu vms using loop
    (1..2).each do |i|
        config.vm.define "host#{i}-ubuntu" do |host|
            host.vm.box = "generic/ubuntu2204"
            host.vm.hostname = "host#{i}"
            host.vm.boot_timeout = 600  # 10 minute
            
            # REMOVE this network line temporarily to debug
            host.vm.network "private_network", ip: "192.168.56.#{9+i}"
        
            host.vm.provider "libvirt" do |lv|
                lv.memory = 1024
                lv.cpus = 2
                lv.default_prefix = ""
            end
        end
    end

    # create 1 centos vm
    config.vm.define "host3-centos" do |host|
        host.vm.box = "centos/stream9"
        host.vm.hostname = "host3"
        host.vm.boot_timeout = 600  # 10 minute
            
        # REMOVE this network line temporarily to debug
        host.vm.network "private_network", ip: "192.168.56.12"
        
        host.vm.provider "libvirt" do |lv|
            lv.memory = 1024
            lv.cpus = 2
            lv.default_prefix = ""
        end
    end
end
